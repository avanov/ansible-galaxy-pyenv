---
- block:
    - name: common
      include_tasks: custom_facts.yml
  become: true

- include_tasks: Darwin.yml
  when: ansible_os_family == "Darwin"

- block:
    - include_tasks: Debian.yml
      when: ansible_os_family == "Debian"
  become: true

- block:
    - include_tasks: RedHat.yml
      when: ansible_os_family == "RedHat"
  become: true

- block:
    - include_tasks: install.yml
      when: pyenv_env == "user"
  become: true
  become_user: "{{ pyenv_owner }}"

- block:
    - include_tasks: install.yml
      when: pyenv_env == "system"
  become: true
